# yaml-language-server: $schema=https://goreleaser.com/static/schema-pro.json
version: 2

project_name: warnly

git:
  tag_sort: semver


changelog:
  disable: true

builds:
  - main: ./cmd/warnly
    ldflags:
      - -s -w
      - -X main.commit={{ .Commit }}
      - -X main.date={{ .Date }}
      - -linkmode external -extldflags "-static"
    goos:
      - linux
    goarch:
      - amd64
      - arm64
    flags:
      - -tags=assets,netgo
    overrides:
      - goos: linux
        goarch: amd64
        goamd64: v1
        env:
          - CGO_ENABLED=1
          - CC=x86_64-linux-gnu-gcc

      - goos: linux
        goarch: arm64
        env:
          - CGO_ENABLED=1
          - CC=aarch64-linux-gnu-gcc

archives:
  - format: binary
